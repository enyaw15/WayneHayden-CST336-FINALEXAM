<%- include("templates/header.ejs")-%>

<h1>Quiz</h1>
<div class = "jumbotron">
    <h3>Question: <%=quiz.question%></h3>
    <form class="form-group" Content-Type="json" method="POST" action="/quiz" >
        
        <input type = "radio" name="choice"  id="choice0" value="<%=quiz.choice1%>"/>
        <label for="<%=quiz.choice1%>"><%=quiz.choice1%></label><br>
        <input type = "radio" name="choice"  id="choice1" value="<%=quiz.choice2%>"/>
        <label for="<%=quiz.choice2%>"><%=quiz.choice2%></label><br>
        <input type = "radio" name="choice"  id="choice2" value="<%=quiz.choice3%>"/>
        <label for="<%=quiz.choice3%>"><%=quiz.choice3%></label><br>
        <input type = "radio" name="choice"  id="choice3" value="<%=quiz.choice4%>"/>
        <label for="<%=quiz.choice4%>"><%=quiz.choice4%></label><br>
        
        <input type="text" value="Hello">
        <button  type="button" id="checkAnswer" class ="btn btn-primary">Submit</button>   
        <button  type="submit" id="submit" class ="btn btn-success" disabled>Next Question</button>   
    </form>
</div>

<div id = "feedback" ></div>

<script>
$("#checkAnswer").on("click", function(){
   let choice = $(`input[name=choice]:checked`).val(); 
   let answer = "<%=quiz.answer%>"
   if(choice == answer)
   {
       //correct
       $("#feedback").html("<h3 style='color:green;'>Correct Answer<h3>");
   }
   else
   {
       //incorrect
       $("#feedback").html("<h3 style='color:red;'>Incorrect Answer<h3>");
   }
   //disable form
   for(let i = 0; i < 4; i++)
   {
       $("#choice"+i).prop("disabled",true);
   }
   //switch buttons
   $("#checkAnswer").prop("disabled",true);
   $("#submit").prop("disabled",false);
});
</script>
<%- include("templates/footer.ejs") -%>